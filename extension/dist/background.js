const n="http://localhost:3001";chrome.runtime.onMessage.addListener((o,e,r)=>{if(o.action==="TAILOR_CV")return a(o.jobDescription,o.userCV).then(t=>r(t)).catch(t=>r({error:t.message})),!0});async function a(o,e){try{const r=await fetch(`${n}/api/tailor`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobDescription:o,userCV:e})});if(!r.ok)throw new Error("Failed to tailor CV");return await r.json()}catch(r){throw console.error("Error:",r),r}}
